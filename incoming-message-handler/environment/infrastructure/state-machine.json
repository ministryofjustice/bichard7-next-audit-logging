{
  "Comment": "Simulates a state machine to manage the workflow of receiving Libra/ExISS messages into the system",
  "StartAt": "OriginalLambda",
  "States": {
    "Retrieve from S3": {
      "Type": "Task",
      "Resource": "{RETRIEVE_FROM_S3_LAMBDA_ARN}",
      "Next": "Format Message"
    },
    "Format Message": {
      "Type": "Task",
      "Resource": "{FORMAT_MESSAGE_LAMBDA_ARN}",
      "Next": "Parse Message"
    },
    "Parse Message": {
      "Type": "Task",
      "Resource": "{PARSE_MESSAGE_LAMBDA_ARN}",
      "Next": "Log Message Receipt"
    },
    "Log Message Receipt": {
      "Type": "Task",
      "Resource": "{LOG_MESSAGE_RECEIPT_LAMBDA_ARN}",
      "Next": "Send to Bichard"
    },
    "Send to Bichard": {
      "Type": "Task",
      "Resource": "{SEND_TO_BICHARD_ARN}",
      "End": true
    }
  }
}
